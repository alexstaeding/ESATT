<div class="my-4 mx-5">


  <h2> {{ "profile.title" | translate }} </h2>
  <hr>

  <div class="row">
    <! -- {{user?.firstName}} -->
    <div class="col-12 col-md-6 col-xl-3">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>{{ "profile.firstname" | translate }}</mat-label>
        <input [disabled]="!editorEnabled" matInput type="text" name="firstName" [(ngModel)]="user.firstName"
               value="user.firstName">
      </mat-form-field>
    </div>

    <div class="col-12 col-md-6 col-xl-3">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>{{ "profile.surname" | translate }}</mat-label>
        <input matInput type="text" name="lastName" [(ngModel)]="user.lastName"
               [disabled]="!editorEnabled">
      </mat-form-field>
    </div>
    <div class="col-12 col-md-6 col-xl-3">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>{{ "profile.username" | translate }}</mat-label>
        <input matInput type="text" name="userName" [(ngModel)]="user.userName"
               [disabled]="!editorEnabled">
      </mat-form-field>
    </div>

    <div class="col-12 col-md-6 col-xl-3">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>{{ "profile.email" | translate }}</mat-label>
        <input matInput type="text" name="email" [(ngModel)]="user.email"
               [disabled]="!editorEnabled">
      </mat-form-field>
    </div>
  </div>
  <div mat-dialog-actions align="left">
    <button [hidden]="editorEnabled"
            mat-raised-button color="primary" (click)="enableEditor()"
    >
    {{"profile.buttons.edit" | translate}}
    </button>

    <button [hidden]="!editorEnabled" mat-raised-button color="accent" (click)="save()">
      {{"profile.buttons.save" | translate}}
    </button>
    <span class="p-1"></span>
    <button [hidden]="!editorEnabled" mat-raised-button color="warn" (click)="disableEditor()">
      {{"profile.buttons.cancel" | translate}}
    </button>
  </div>
  <hr>
  <h2> {{"profile.subtitle" | translate }} </h2>

  <div class="table-scroll">
    <table mat-table class="w-100 mat-elevation-z0" [dataSource]="dataScheme">

      <ng-container matColumnDef="ttitle">
        <th mat-header-cell *matHeaderCellDef>
          <mat-icon>title</mat-icon>
          {{ 'profile.table-title' | translate }}
        </th>
        <td mat-cell *matCellDef="let thesis">
          {{thesis.ttitle}}
        </td>
      </ng-container>
      <ng-container matColumnDef="tprof">
        <th mat-header-cell *matHeaderCellDef>
          <mat-icon>person</mat-icon>
          {{ "profile.table-prof" | translate }}
        </th>
        <td mat-cell *matCellDef="let thesis">
          {{thesis.tprof}}
        </td>
      </ng-container>
      <ng-container matColumnDef="tcreated">
        <th mat-header-cell *matHeaderCellDef>
          <mat-icon>date_range</mat-icon>
          {{ "profile.table-date" | translate }}
        </th>
        <td mat-cell *matCellDef="let thesis">
          {{thesis.tcreated.toDateString()}}
        </td>
      </ng-container>
      <ng-container matColumnDef="tassigned">
        <th mat-header-cell *matHeaderCellDef>
          <mat-icon>assignment_ind</mat-icon>
          {{ "profile.table-assigned" | translate }}
        </th>
        <td mat-cell *matCellDef="let thesis">
          {{thesis.tassigned}}
        </td>
      </ng-container>
      <ng-container matColumnDef="tstatus">
        <th mat-header-cell *matHeaderCellDef>
          <mat-icon>assignment_turned_in</mat-icon>
          {{ "profile.table-state" | translate }}
        </th>
        <td mat-cell *matCellDef="let thesis">
          {{thesis.tstatus}}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnScheme ; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: columnScheme"></tr>
    </table>
    <h4 *ngIf="count==0 && loading ==false">
      {{ "profile.no-theses-found" | translate }}
    </h4>

  </div>


</div>
